<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEON TERMINAL V3</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
        body { background: #050505; color: #0ff; font-family: 'Orbitron', sans-serif; }
        .glass { background: rgba(255,255,255,0.05); backdrop-filter: blur(10px); border: 1px solid rgba(0,255,255,0.2); }
        .btn-num { width: 100%; height: 50px; font-size: 1.2rem; border-radius: 8px; transition: 0.1s; }
        .btn-num:active { transform: scale(0.95); background: #fff; color: #000; }
        .red { background: #d00; color: white; border: none; }
        .black { background: #222; color: white; border: none; }
        .green { background: #0a0; color: white; border: none; }
        
        /* Fases */
        .phase-cal { color: #fbbf24; border-color: #fbbf24; }
        .phase-ghost { color: #60a5fa; border-color: #60a5fa; }
        .phase-active { color: #34d399; border-color: #34d399; box-shadow: 0 0 15px #34d399; }
    </style>
</head>
<body class="p-4 max-w-md mx-auto">

    <!-- HEADER -->
    <div class="glass p-4 rounded-xl mb-4 text-center">
        <h1 class="text-2xl font-bold mb-2">NEON TERMINAL</h1>
        <div id="phaseDisplay" class="border-2 rounded px-2 py-1 inline-block text-sm phase-cal">FASE: CALIBRACIÃ“N</div>
    </div>

    <!-- INFO PANEL -->
    <div class="grid grid-cols-2 gap-2 mb-4">
        <div class="glass p-3 rounded-xl text-center">
            <div class="text-xs text-gray-400">SALDO</div>
            <div id="balanceDisplay" class="text-xl font-bold">$100,000</div>
        </div>
        <div class="glass p-3 rounded-xl text-center">
            <div class="text-xs text-gray-400">APUESTA</div>
            <div id="betDisplay" class="text-xl font-bold text-yellow-400">$0</div>
        </div>
    </div>

    <!-- PREDICCIÃ“N -->
    <div class="glass p-6 rounded-xl mb-4 text-center border-2 border-cyan-500/30">
        <div class="text-sm text-gray-400 mb-1">SISTEMA SUGIERE:</div>
        <div id="predictionDisplay" class="text-4xl font-black text-white">---</div>
        <div id="statusDisplay" class="text-xs mt-2 text-cyan-300">Esperando datos...</div>
    </div>

    <!-- TECLADO -->
    <div class="glass p-2 rounded-xl">
        <div class="grid grid-cols-3 gap-2 mb-2">
            <button class="btn-num green col-span-3" onclick="sendNumber(0)">0</button>
        </div>
        <div id="keyboard" class="grid grid-cols-3 gap-2">
            <!-- Se genera con JS -->
        </div>
    </div>

    <!-- CONTROLES -->
    <div class="mt-4 flex gap-2">
        <button onclick="resetSystem()" class="flex-1 bg-red-900/50 text-red-200 p-3 rounded border border-red-800">RESET</button>
    </div>

    <!-- IMPORTAR CEREBRO -->
    <script src="brain.js"></script>

    <script>
        // CONFIGURACIÃ“N DE UI
        const REDS = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];

        // INICIAR
        window.onload = function() {
            NEON_CORE.init(100000); // Capital inicial
            renderKeyboard();
            updateUI({ phase: 'CALIBRATION', balance: 100000, bet: 0, historyCount: 0 });
        };

        // DIBUJAR TECLADO
        function renderKeyboard() {
            let html = '';
            for(let i=1; i<=36; i++) {
                let color = REDS.includes(i) ? 'red' : 'black';
                html += `<button class="btn-num ${color}" onclick="sendNumber(${i})">${i}</button>`;
            }
            document.getElementById('keyboard').innerHTML = html;
        }

        // ENVIAR NÃšMERO AL CEREBRO
        function sendNumber(num) {
            // Llamamos al archivo brain.js
            let data = NEON_CORE.processSpin(num);
            updateUI(data);
        }

        // ACTUALIZAR PANTALLA
        function updateUI(data) {
            // 1. Fase
            let phaseEl = document.getElementById('phaseDisplay');
            phaseEl.innerText = "FASE: " + data.phase;
            phaseEl.className = "border-2 rounded px-2 py-1 inline-block text-sm phase-" + data.phase.toLowerCase().substring(0,3);

            // 2. Dinero
            document.getElementById('balanceDisplay').innerText = "$" + data.balance.toLocaleString();
            
            // 3. Apuesta (Solo si es Active)
            if (data.phase === 'ACTIVE') {
                document.getElementById('betDisplay').innerText = "$" + data.bet.toLocaleString();
            } else {
                document.getElementById('betDisplay').innerText = "$0 (Simulado)";
            }

            // 4. PredicciÃ³n
            let predEl = document.getElementById('predictionDisplay');
            if (data.prediction) {
                predEl.innerText = "DOCENA " + data.prediction;
                predEl.classList.add("animate-pulse");
            } else {
                predEl.innerText = "---";
                predEl.classList.remove("animate-pulse");
            }

            // 5. Estado
            let statusText = "";
            if (data.phase === 'CALIBRATION') {
                statusText = `Calibrando... (${data.historyCount}/37)`;
            } else if (data.phase === 'GHOST') {
                statusText = "Validando IA (Apuestas Ficticias)";
            } else {
                statusText = "ðŸ”¥ SISTEMA ACTIVO - APUESTA REAL";
            }
            document.getElementById('statusDisplay').innerText = statusText;
        }

        function resetSystem() {
            if(confirm("Â¿Reiniciar todo?")) {
                NEON_CORE.reset();
                updateUI({ phase: 'CALIBRATION', balance: 100000, bet: 0, historyCount: 0 });
            }
        }
    </script>
</body>
</html>
